<h1>Welcome to my Portfolio. Work in Progress</h1>

<body>
<p>Vistor Count: <span id = "visitor-count">...</span></p>

<script>
    async function updateVisitorCount() {
        try{
            const response = await fetch("https://e814xf9d4e.execute-api.us-east-1.amazonaws.com/visits"); //Calling API endpoint
            if (!response.ok) throw new Error("Network Error");

            const count = await response.text(); //Parsing the response. Lambda returns string value

            document.getElementById("visitor-count").innerText = count; //Updates the acutal count
            
        } catch (err) { //Error Handling
            console.error("Visitor count failed", err);
            document.getElementById("visitor-count").innerText = "N/A";
        }
    }

    updateVisitorCount();
</script>

</body>